{% extends "base.html" %}

{% block title %}Staging Area - Zettelkasten{% endblock %}

{% block content %}
<div class="staging-container">
    <div class="staging-header">
        <a href="/" class="back-link">← Back to Home</a>
        <h1>Staging Area</h1>
        <p class="subtitle">Review notes before approving them to your vault</p>
    </div>

    {% if flash_messages %}
    {% for flash in flash_messages %}
    <div class="alert alert-{{ flash.category }}">
        {{ flash.message }}
    </div>
    {% endfor %}
    {% endif %}

    {% if count == 0 %}
    <div class="empty-state">
        <p>📭 No files in staging</p>
        <p class="text-muted">Process URLs with 'zk add &lt;url&gt;' to generate notes in staging.</p>
    </div>
    {% else %}
    <div class="staging-stats">
        <strong>{{ count }}</strong> file(s) waiting for review
    </div>

    <div class="file-list">
        {% for file in files %}
        <div class="file-card">
            <a href="/staging/view/{{ file.path }}" class="file-info file-link">
                <h3>{{ file.title }}</h3>
                <p class="file-path">{{ file.path }}</p>
            </a>
            <div class="file-actions">
                <a href="/staging/view/{{ file.path }}" class="btn-small btn-action">
                    👁️ View
                </a>
            </div>
        </div>
        {% endfor %}
    </div>

    <div class="bulk-actions">
        <button class="btn-small btn-action" onclick="alert('Coming soon: Approve All')">
            ✓ Approve All
        </button>
        <button class="btn-small btn-action" onclick="alert('Coming soon: Clear All')">
            🗑️ Clear All
        </button>
    </div>
    {% endif %}
</div>
{% endblock %}
